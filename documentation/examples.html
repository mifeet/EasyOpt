<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>EasyOpt documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
<style type="text/css">/*<![CDATA[*/
.source-csharp {line-height: normal;}
.source-csharp li, .source-csharp pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for csharp
 * CSS class: source-csharp, CSS id:
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.source-csharp .de1, .source-csharp .de2 {font-family: 'Courier New', Courier, monospace; font-weight: normal; font-style: normal;}
.source-csharp  {}
.source-csharp .head {}
.source-csharp .foot {}
.source-csharp .imp {font-weight: bold; color: red;}
.source-csharp li, .source-csharp li.li1 {font-weight: normal;}
.source-csharp li.li2 {font-weight: bold;}
.source-csharp .kw1 {color: #0600FF;}
.source-csharp .kw2 {color: #FF8000; font-weight: bold;}
.source-csharp .kw3 {color: #008000;}
.source-csharp .kw4 {color: #377B00;}
.source-csharp .kw5 {color: #000000;}
.source-csharp .co1 {color: #666666; font-style: italic;}
.source-csharp .co2 {color: #666666;}
.source-csharp .co3 {color: #666666;}
.source-csharp .coMULTI {color: #008080; font-style: italic;}
.source-csharp .es0 {color: #008080; font-weight: bold;}
.source-csharp .br0 {color: #000000;}
.source-csharp .sy0 {color: #008000;}
.source-csharp .st0 {color: #975026;}
.source-csharp .nu0 {color: #FF0000;}
.source-csharp .me1 {color: #0000FF;}
.source-csharp .me2 {color: #0000FF;}
.source-csharp .ln-xtra, .source-csharp li.ln-xtra, .source-csharp div.ln-xtra {color: #cc0; background-color: #ffc;}
/*]]>*/
</style>
<style type="text/css">/*<![CDATA[*/
pre {
	background-color:#F9F9F9;
	border:1px dashed #2F6FAB;
	color:black;
	line-height:1.1em;
	padding:1em;
}
.code {
	color:black;
	font-family: 'Courier New', Courier, monospace; font-weight: normal; font-style: normal;
}
/*]]>*/
</style>

</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li class="current"><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Examples of EasyOpt usage</h1>
<p>On this page you can see how all EasyOpt features can be used in several annotated examples.</p>
<h2>Contents of this document</h2>
<ul>
	<li><a href="#time">time</a></li>
	<li><a href="#ls">ls</a></li>
	<li><a href="#touch">touch</a></li>
</ul>

<h2 id="time">time</h2>
<p>This example shows how EasyOpt could be used to parse selected options of Unix command time.</p>

<p>The usage of this sample program is:</p>
<pre> time [options] command [arguments...]

    -o, --output=FILE
        Do not send the results to stderr, but overwrite the specified file.

    -a, --append
        (Used together with -o.) Do not overwrite but append

    -f, --format=FORMAT
        Specify output format, possibly overriding the format specified in the
        environment variable TIME.

    --help
        Print a usage message on standard output and exit successfully.

    -p, --portability
        Use the portable output format

    -v, --verbose
        Give very verbose output about all the program knows about.

    --quiet
        Do not report the status of the program even if it is different

    -V, --version
        Print version information on standard output, then exit successfully.</pre>

<p>Program source code (<a href="sample_time.cs">download</a>):<p>
<pre class="source-csharp"><span class="kw1">static</span> <span class="kw1">void</span> Main<span class="br0">&#40;</span><span class="kw4">string</span><span class="br0">&#91;</span><span class="br0">&#93;</span> args<span class="br0">&#41;</span> <span class="br0">&#123;</span>
  <span class="co1">// Create a parser instance</span>
  CommandLine parser <span class="sy0">=</span> <span class="kw3">new</span> CommandLine<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
  <span class="co1">// Create a new string parameter.</span>
  var outputParam <span class="sy0">=</span> <span class="kw3">new</span> StringParameter<span class="br0">&#40;</span><span class="kw1">true</span>, <span class="st0">&quot;FILE&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
  <span class="co1">// Create an option with the string parameter</span>
  var output <span class="sy0">=</span> OptionFactory.<span class="me1">Create</span><span class="br0">&#40;</span>
    <span class="kw1">false</span>, <span class="co1">// The option is not required</span>
    <span class="st0">&quot;Do not send the results to stderr, but overwrite the specified file.&quot;</span>, <span class="co1">// Description for usage text</span>
    outputParam <span class="co1">// Option parameter</span>
  <span class="br0">&#41;</span><span class="sy0">;</span>
  <span class="co1">// Register to the parser. The option will have a short name -o and a long name --output</span>
  parser.<span class="me1">AddOption</span><span class="br0">&#40;</span>output, <span class="st0">'o'</span>, <span class="st0">&quot;output&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
  <span class="co1">// Create a new option without a parameter</span>
  var append <span class="sy0">=</span> OptionFactory.<span class="me1">Create</span><span class="br0">&#40;</span><span class="kw1">false</span>, <span class="st0">&quot;(Used together with -o.) Do not overwrite but append&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
  parser.<span class="me1">AddOption</span><span class="br0">&#40;</span>append, <span class="st0">'a'</span>, <span class="st0">&quot;append&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
  <span class="co1">// Create a new string parameter. The third argument defines its default value.</span>
  var formatParam <span class="sy0">=</span> <span class="kw3">new</span> StringParameter<span class="br0">&#40;</span><span class="kw1">true</span>, <span class="st0">&quot;FORMAT&quot;</span>, <span class="st0">&quot;real&nbsp;%f<span class="es0">\n</span>user&nbsp;%f<span class="es0">\n</span>sys&nbsp;%f<span class="es0">\n</span>&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
  var format <span class="sy0">=</span> OptionFactory.<span class="me1">Create</span><span class="br0">&#40;</span>
      <span class="kw1">false</span>,
      <span class="st0">&quot;Specify output format, possibly overriding the format specified in the environment variable TIME.&quot;</span>,
      formatParam
  <span class="br0">&#41;</span><span class="sy0">;</span>
  parser.<span class="me1">AddOption</span><span class="br0">&#40;</span>format, <span class="st0">'f'</span>, <span class="st0">&quot;format&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
  var help <span class="sy0">=</span> OptionFactory.<span class="me1">Create</span><span class="br0">&#40;</span><span class="kw1">false</span>, <span class="st0">&quot;Print a usage message on standard output and exit successfully.&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
  parser.<span class="me1">AddOption</span><span class="br0">&#40;</span>help, <span class="st0">&quot;help&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
  var portability <span class="sy0">=</span> OptionFactory.<span class="me1">Create</span><span class="br0">&#40;</span><span class="kw1">false</span>, <span class="st0">&quot;Use the portable output format&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
  parser.<span class="me1">AddOption</span><span class="br0">&#40;</span>portability, <span class="st0">'p'</span>, <span class="st0">&quot;portability&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
  var verbose <span class="sy0">=</span> OptionFactory.<span class="me1">Create</span><span class="br0">&#40;</span><span class="kw1">false</span>, <span class="st0">&quot;Give very verbose output about all the program knows about.&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
  parser.<span class="me1">AddOption</span><span class="br0">&#40;</span>verbose, <span class="st0">'v'</span>, <span class="st0">&quot;verbose&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
  var quiet <span class="sy0">=</span> OptionFactory.<span class="me1">Create</span><span class="br0">&#40;</span><span class="kw1">false</span>, <span class="st0">&quot;Do not report the status of the program even if it is different&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
  parser.<span class="me1">AddOption</span><span class="br0">&#40;</span>quiet, <span class="st0">&quot;quiet&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
  var version <span class="sy0">=</span> OptionFactory.<span class="me1">Create</span><span class="br0">&#40;</span><span class="kw1">false</span>, <span class="st0">&quot;Print version information on standard output, then exit successfully.&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
  parser.<span class="me1">AddOption</span><span class="br0">&#40;</span>version, <span class="st0">'V'</span>, <span class="st0">&quot;version&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
  <span class="co1">// Description displayed in the usage text</span>
  parser.<span class="me1">UsageDescription</span> <span class="sy0">=</span> <span class="st0">&quot; time [options] command [arguments...]&quot;</span><span class="sy0">;</span>
&nbsp;
  <span class="kw1">try</span> <span class="br0">&#123;</span>
    <span class="co1">// The actual argument parsing</span>
    parser.<span class="me1">Parse</span><span class="br0">&#40;</span>args<span class="br0">&#41;</span><span class="sy0">;</span>
  <span class="br0">&#125;</span>
  <span class="kw1">catch</span> <span class="br0">&#40;</span>EasyOptException<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="co1">// Some options were invalid, print usage text and exit</span>
    Console.<span class="me1">Write</span><span class="br0">&#40;</span> parser.<span class="me1">GetUsage</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#41;</span><span class="sy0">;</span>
    return<span class="sy0">;</span>
  <span class="br0">&#125;</span>
&nbsp;
  <span class="co1">// Find out whether --output option was defined</span>
  <span class="kw4">bool</span> isOutputPresent <span class="sy0">=</span> output.<span class="me1">IsPresent</span><span class="sy0">;</span>
  <span class="co1">// Retrieve value of the string parameter of --output option</span>
  <span class="kw4">String</span> outputValue <span class="sy0">=</span> output.<span class="me1">Value</span><span class="sy0">;</span>
&nbsp;
  <span class="co1">// Find out whether --append option was defined</span>
  <span class="kw4">bool</span> appendValue <span class="sy0">=</span> append.<span class="me1">IsPresent</span><span class="sy0">;</span>
  <span class="co1">// Alternatively, for options without a parameter, you can equivalently use the following</span>
  appendValue <span class="sy0">=</span> append.<span class="me1">Value</span><span class="sy0">;</span>
&nbsp;
  <span class="co1">// Retrieve --format option parameter; if the option is not defined, retrieves the default value</span>
  <span class="kw4">String</span> formatValue <span class="sy0">=</span> format.<span class="me1">Value</span><span class="sy0">;</span>
&nbsp;
  <span class="co1">// Values of other options can be retrieved in the same way</span>
  <span class="kw4">bool</span> helpValue <span class="sy0">=</span> help.<span class="me1">Value</span><span class="sy0">;</span>
  <span class="kw4">bool</span> portabilityValue <span class="sy0">=</span> portability.<span class="me1">Value</span><span class="sy0">;</span>
  <span class="kw4">bool</span> verboseValue <span class="sy0">=</span> verbose.<span class="me1">Value</span><span class="sy0">;</span>
  <span class="kw4">bool</span> quietValue <span class="sy0">=</span> quiet.<span class="me1">Value</span><span class="sy0">;</span>
  <span class="kw4">bool</span> versionValue <span class="sy0">=</span> version.<span class="me1">Value</span><span class="sy0">;</span>
&nbsp;
  <span class="co1">// Get list of non-option arguments</span>
  <span class="kw4">String</span><span class="br0">&#91;</span><span class="br0">&#93;</span> arguments <span class="sy0">=</span> parser.<span class="me1">GetArguments</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre>

<h2 id="ls">ls</h2>
<p>
	This example shows how EasyOpt could be used to parse selected options of Unix command ls.
  In this example you can see use of the powerful parameter type <span class="code">EnumParameter&lt;T&gt;</span>, several predefined constraints
	and how a custom parameter type can be defined. For purposes of this example ls --block-size option is simplified.
</p>
<p>The usage of this sample program is:</p>
<pre> ls [OPTION]... [FILE]...

    -a, --all
        do not ignore entries starting with .

    --author
        with -l, print the author or each file

    --block-size=SIZE
        use SIZE-byte blocks; SIZE  may  be one of following: kB1000, KB1024,
        MB1000 and so on for G, T, P, E, Z, Y.

    --color[=WHEN]
        control whether color is used to distinguish file types. WHEN may be
        'never', 'always' or 'auto'

    --format=WORD
        across  -x, commas -m, horizontal -x, long -l, single-column -1,
        verbose -l, vertical -C

    --quoting-style=WORD
        use quoting style WORD for entry names: literal, locale, shell,
        shell-always, c, escape

    -T, --tabsize=COLS
        assume tab stops at each COLS instead of 8</pre>
<p>Program source code (<a href="sample_ls.cs">download</a>):<p>

<pre class="source-csharp"><span class="kw4">enum</span> SizeUnit <span class="br0">&#123;</span>
  kB, MB, GB, TB, PB, EB, ZB, YB
<span class="br0">&#125;</span>
&nbsp;
<span class="kw4">class</span> Size <span class="br0">&#123;</span>
  <span class="kw1">public</span> SizeUnit Unit <span class="br0">&#123;</span> get<span class="sy0">;</span> set<span class="sy0">;</span> <span class="br0">&#125;</span>
  <span class="kw1">public</span> <span class="kw4">int</span> Value <span class="br0">&#123;</span> get<span class="sy0">;</span> set<span class="sy0">;</span> <span class="br0">&#125;</span>
  <span class="kw1">public</span> Size<span class="br0">&#40;</span><span class="kw4">int</span> value, SizeUnit unit<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="kw1">this</span>.<span class="me1">Value</span> <span class="sy0">=</span> value<span class="sy0">;</span>
    <span class="kw1">this</span>.<span class="me1">Unit</span> <span class="sy0">=</span> unit<span class="sy0">;</span>
  <span class="br0">&#125;</span>
<span class="br0">&#125;</span>
&nbsp;
<span class="co1">// Custom parameter class that converts option parameter to type Size</span>
<span class="kw4">class</span> SizeParameter <span class="sy0">:</span> Parameter<span class="sy0">&lt;</span>Size<span class="sy0">&gt;</span> <span class="br0">&#123;</span>
  <span class="kw1">public</span> SizeParameter<span class="br0">&#40;</span><span class="kw4">bool</span> isRequired, <span class="kw4">String</span> usageName<span class="br0">&#41;</span>
      <span class="sy0">:</span> <span class="kw1">base</span><span class="br0">&#40;</span>isRequired, usageName, <span class="kw1">default</span><span class="br0">&#40;</span>Size<span class="br0">&#41;</span><span class="br0">&#41;</span>
  <span class="br0">&#123;</span> <span class="br0">&#125;</span>
&nbsp;
  <span class="co1">// Custom parameter has to override this abstract method</span>
  <span class="co1">// It defines a conversion function from string parameter value to type Size</span>
  <span class="kw1">protected</span> <span class="kw1">override</span> Size convert<span class="br0">&#40;</span><span class="kw4">string</span> parameterValue<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    var match <span class="sy0">=</span> <span class="kw5">System</span>.<span class="me1">Text</span>.<span class="me1">RegularExpressions</span>.<span class="me1">Regex</span>.<span class="me1">Match</span><span class="br0">&#40;</span>parameterValue, <span class="st0">@&quot;^(\w+)(\d+)$&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="kw1">if</span> <span class="br0">&#40;</span><span class="sy0">!</span>match.<span class="me1">Success</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
      <span class="co1">// In case that conversion fails, throw an exception</span>
      <span class="kw1">throw</span> <span class="kw3">new</span> ParameterConversionException<span class="br0">&#40;</span>parameterValue, <span class="kw1">this</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="kw1">try</span> <span class="br0">&#123;</span>
      SizeUnit unit <span class="sy0">=</span> <span class="br0">&#40;</span>SizeUnit<span class="br0">&#41;</span> <span class="kw4">Enum</span>.<span class="me1">Parse</span><span class="br0">&#40;</span><span class="kw3">typeof</span><span class="br0">&#40;</span>SizeUnit<span class="br0">&#41;</span>, match.<span class="me1">Groups</span><span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span>.<span class="me1">Value</span>, <span class="kw1">true</span><span class="br0">&#41;</span><span class="sy0">;</span>
      <span class="kw4">int</span> value <span class="sy0">=</span> Int32.<span class="me1">Parse</span><span class="br0">&#40;</span>match.<span class="me1">Groups</span><span class="br0">&#91;</span><span class="nu0">2</span><span class="br0">&#93;</span>.<span class="me1">Value</span><span class="br0">&#41;</span><span class="sy0">;</span>
      <span class="kw1">return</span> <span class="kw3">new</span> Size<span class="br0">&#40;</span>value, unit<span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="kw1">catch</span> <span class="br0">&#40;</span>Exception<span class="br0">&#41;</span> <span class="br0">&#123;</span>
      <span class="kw1">throw</span> <span class="kw3">new</span> ParameterConversionException<span class="br0">&#40;</span>parameterValue, <span class="kw1">this</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
  <span class="br0">&#125;</span>
<span class="br0">&#125;</span>
&nbsp;
<span class="co1">// This enum type will be used in conjuction with EnumParameter</span>
<span class="kw4">enum</span> Color <span class="br0">&#123;</span>
  Never, Always, <span class="kw1">Auto</span>
<span class="br0">&#125;</span>
&nbsp;
<span class="kw4">class</span> Program <span class="br0">&#123;</span>
  <span class="kw1">static</span> <span class="kw1">void</span> Main<span class="br0">&#40;</span><span class="kw4">string</span><span class="br0">&#91;</span><span class="br0">&#93;</span> args<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="co1">// Create a new parser instance</span>
    CommandLine parser <span class="sy0">=</span> <span class="kw3">new</span> CommandLine<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
    <span class="co1">// Create options without a parameter</span>
    var all <span class="sy0">=</span> OptionFactory.<span class="me1">Create</span><span class="br0">&#40;</span><span class="kw1">false</span>, <span class="st0">&quot;do not ignore entries starting with .&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    parser.<span class="me1">AddOption</span><span class="br0">&#40;</span>all, <span class="st0">'a'</span>, <span class="st0">&quot;all&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
    var author <span class="sy0">=</span> OptionFactory.<span class="me1">Create</span><span class="br0">&#40;</span><span class="kw1">false</span>, <span class="st0">&quot;with -l, print the author or each file&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    parser.<span class="me1">AddOption</span><span class="br0">&#40;</span>author, <span class="st0">&quot;author&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
    <span class="co1">// Create a new option with the custom parameter type defined earlier</span>
    var blockSizeParam <span class="sy0">=</span> <span class="kw3">new</span> SizeParameter<span class="br0">&#40;</span><span class="kw1">true</span>, <span class="st0">&quot;SIZE&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="co1">// Factory method Create() infers the proper option type Option&lt;Size&gt; from blockSizeParam type</span>
    var blockSize <span class="sy0">=</span> OptionFactory.<span class="me1">Create</span><span class="br0">&#40;</span>
        <span class="kw1">false</span>,
        <span class="st0">&quot;use SIZE-byte blocks; SIZE  may  be one of following:&quot;</span><span class="sy0">+</span>
        <span class="st0">&quot; kB1000, KB1024, MB1000 and so on for G, T, P, E, Z, Y.&quot;</span>,
        blockSizeParam
    <span class="br0">&#41;</span><span class="sy0">;</span>
    parser.<span class="me1">AddOption</span><span class="br0">&#40;</span>blockSize, <span class="st0">&quot;block-size&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
    <span class="co1">// With EnumParameter&lt;T&gt; you can easily define range of accepted values</span>
    <span class="co1">// and EnumParameter will convert parameter to the specified enum type.</span>
    var colorParam <span class="sy0">=</span> <span class="kw3">new</span> EnumParameter<span class="sy0">&lt;</span>Color<span class="sy0">&gt;</span><span class="br0">&#40;</span><span class="kw1">false</span>, <span class="st0">&quot;WHEN&quot;</span>, Color.<span class="kw1">Auto</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="co1">// You can set whether the conversion is case-sensitive (default is case-insensitive)</span>
    colorParam.<span class="me1">IgnoreCase</span> <span class="sy0">=</span> true<span class="sy0">;</span>
    var color <span class="sy0">=</span> OptionFactory.<span class="me1">Create</span><span class="br0">&#40;</span>
        <span class="kw1">false</span>,
        <span class="st0">&quot;control whether color is used to distinguish file types. &quot;</span> <span class="sy0">+</span>
        <span class="st0">&quot;WHEN may be 'never', 'always' or 'auto'&quot;</span>,
        colorParam
    <span class="br0">&#41;</span><span class="sy0">;</span>
    parser.<span class="me1">AddOption</span><span class="br0">&#40;</span>color, <span class="st0">&quot;color&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
    <span class="co1">// Create an option with a string parameter</span>
    var formatParam <span class="sy0">=</span> <span class="kw3">new</span> StringParameter<span class="br0">&#40;</span><span class="kw1">true</span>, <span class="st0">&quot;WORD&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    var format <span class="sy0">=</span> OptionFactory.<span class="me1">Create</span><span class="br0">&#40;</span>
        <span class="kw1">false</span>,
        <span class="st0">&quot;across  -x, commas -m, horizontal -x, long -l, single-column -1, verbose -l, vertical -C&quot;</span>,
        formatParam
    <span class="br0">&#41;</span><span class="sy0">;</span>
    parser.<span class="me1">AddOption</span><span class="br0">&#40;</span>format, <span class="st0">&quot;format&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
    <span class="co1">// Create an option with a string parameter</span>
    var quotingStyleParam <span class="sy0">=</span> <span class="kw3">new</span> StringParameter<span class="br0">&#40;</span><span class="kw1">true</span>, <span class="st0">&quot;WORD&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    var quotingStyles <span class="sy0">=</span> <span class="kw3">new</span> <span class="kw4">String</span><span class="br0">&#91;</span><span class="br0">&#93;</span> <span class="br0">&#123;</span> <span class="st0">&quot;literal&quot;</span>, <span class="st0">&quot;locale&quot;</span>, <span class="st0">&quot;shell&quot;</span>, <span class="st0">&quot;shell-always&quot;</span>, <span class="st0">&quot;c&quot;</span>, <span class="st0">&quot;escape&quot;</span> <span class="br0">&#125;</span><span class="sy0">;</span>
    <span class="co1">// StringEnumerationConstraint restricts the range of parameter values to the defined list of values</span>
    quotingStyleParam.<span class="me1">AddConstraint</span><span class="br0">&#40;</span><span class="kw3">new</span> StringEnumerationConstraint<span class="br0">&#40;</span>quotingStyles, <span class="kw1">true</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    var quotingStyle <span class="sy0">=</span> OptionFactory.<span class="me1">Create</span><span class="br0">&#40;</span>
        <span class="kw1">false</span>,
        <span class="st0">&quot;use quoting style WORD for entry names: literal, locale, shell, shell-always, c, escape&quot;</span>,
        quotingStyleParam
    <span class="br0">&#41;</span><span class="sy0">;</span>
    parser.<span class="me1">AddOption</span><span class="br0">&#40;</span>quotingStyle, <span class="st0">&quot;quoting-style&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
    <span class="co1">// Create an option with int parameter</span>
    var tabsizeParam <span class="sy0">=</span> <span class="kw3">new</span> IntParameter<span class="br0">&#40;</span><span class="kw1">true</span>, <span class="st0">&quot;COLS&quot;</span>, <span class="nu0">8</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="co1">// Parameter value must be non-negative</span>
    tabsizeParam.<span class="me1">AddConstraint</span><span class="br0">&#40;</span><span class="kw3">new</span> LowerBoundConstraint<span class="br0">&#40;</span><span class="nu0">0</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    var tabsize <span class="sy0">=</span> OptionFactory.<span class="me1">Create</span><span class="br0">&#40;</span><span class="kw1">false</span>, <span class="st0">&quot;assume tab stops at each COLS instead of 8&quot;</span>, tabsizeParam<span class="br0">&#41;</span><span class="sy0">;</span>
    parser.<span class="me1">AddOption</span><span class="br0">&#40;</span>tabsize, <span class="st0">'T'</span>, <span class="st0">&quot;tabsize&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
    <span class="co1">// Description displayed in the usage text</span>
    parser.<span class="me1">UsageDescription</span> <span class="sy0">=</span> <span class="st0">&quot; ls [OPTION]... [FILE]...&quot;</span><span class="sy0">;</span>
&nbsp;
    <span class="kw1">try</span> <span class="br0">&#123;</span>
      <span class="co1">// The actual argument parsing</span>
      parser.<span class="me1">Parse</span><span class="br0">&#40;</span>args<span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="kw1">catch</span> <span class="br0">&#40;</span>EasyOptException e<span class="br0">&#41;</span> <span class="br0">&#123;</span>
      <span class="co1">// Some options were invalid (e.g. a parameter constraint or conversion failed)</span>
      <span class="co1">// Print usage text and exit</span>
      Console.<span class="me1">Write</span><span class="br0">&#40;</span> parser.<span class="me1">GetUsage</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#41;</span><span class="sy0">;</span>
      return<span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
    <span class="co1">// Retrieve some option values</span>
    <span class="co1">// Retrieve whether --all option is on</span>
    <span class="kw4">bool</span> allValue <span class="sy0">=</span> all.<span class="me1">Value</span><span class="sy0">;</span>
    <span class="co1">// Retrieve --block-size parameter converted to Size</span>
    Size blockSizeValue <span class="sy0">=</span> blockSize.<span class="me1">Value</span><span class="sy0">;</span>
    <span class="co1">// Retrieve --color parameter converted to Color enum type</span>
    Color colorValue <span class="sy0">=</span> color.<span class="me1">Value</span><span class="sy0">;</span>
    <span class="co1">// Retrieve --quoting-style value; the value must me one of the strings in quotingStyles or default value ("")</span>
    <span class="kw4">String</span> quotingValue <span class="sy0">=</span> quotingStyle.<span class="me1">Value</span><span class="sy0">;</span>
&nbsp;
    <span class="co1">// Get list of non-option arguments</span>
    <span class="kw4">String</span><span class="br0">&#91;</span><span class="br0">&#93;</span> arguments <span class="sy0">=</span> parser.<span class="me1">GetArguments</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
  <span class="br0">&#125;</span>
<span class="br0">&#125;</span>
</pre>

<h2 id="touch">touch</h2>
<p>This example shows how EasyOpt could be used to parse selected options of Unix command touch.
  In this example you can see how to define custom constraints.
</p>
<p>The usage of this sample program is:</p>
<pre> touch [OPTION]... [FILE]...

    -a
        change only the access time

    -c, --no-create
        do not create any files

    -d, --date=STRING
        parse STRING and use it instead of current time

    -r, --reference=FILE
        use this file's times instead of current time

    -t STAMP
        use [[CC]YY]MMDDhhmm[.ss] instead of current time

    --time=WORD
        change the specified time: WORD is access, atime, or use

    --version
        output version information and exit</pre>
<p>Program source code (<a href="sample_touch.cs">download</a>):<p>

<pre class="source-csharp"><span class="co1">// A custom constraint</span>
<span class="kw4">class</span> TimeConstraint <span class="sy0">:</span> IConstraint<span class="sy0">&lt;</span><span class="kw4">String</span><span class="sy0">&gt;</span> <span class="br0">&#123;</span>
  <span class="kw1">public</span> <span class="kw4">bool</span> IsValid<span class="br0">&#40;</span><span class="kw4">String</span> parameter<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    var r <span class="sy0">=</span> <span class="kw3">new</span> <span class="kw5">System</span>.<span class="me1">Text</span>.<span class="me1">RegularExpressions</span>.<span class="me1">Regex</span><span class="br0">&#40;</span><span class="st0">@&quot;^((\d\d)?\d\d)?(\d){8}(\.\d\d)?$&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="kw1">return</span> r.<span class="me1">IsMatch</span><span class="br0">&#40;</span>parameter<span class="br0">&#41;</span><span class="sy0">;</span>
  <span class="br0">&#125;</span>
<span class="br0">&#125;</span>
&nbsp;
<span class="kw4">enum</span> Time <span class="br0">&#123;</span>
  Access, Atime, Use
<span class="br0">&#125;</span>
&nbsp;
<span class="kw4">class</span> Program <span class="br0">&#123;</span>
  <span class="kw1">static</span> <span class="kw1">void</span> Main<span class="br0">&#40;</span><span class="kw4">string</span><span class="br0">&#91;</span><span class="br0">&#93;</span> args<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="co1">// Create a new parser instance</span>
    CommandLine parser <span class="sy0">=</span> <span class="kw3">new</span> CommandLine<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
    <span class="co1">// Add some options</span>
    var accessTime <span class="sy0">=</span> OptionFactory.<span class="me1">Create</span><span class="br0">&#40;</span><span class="kw1">false</span>, <span class="st0">&quot;change only the access time&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    parser.<span class="me1">AddOption</span><span class="br0">&#40;</span>accessTime, <span class="st0">'a'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
    var noCreate <span class="sy0">=</span> OptionFactory.<span class="me1">Create</span><span class="br0">&#40;</span><span class="kw1">false</span>, <span class="st0">&quot;do not create any files&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    parser.<span class="me1">AddOption</span><span class="br0">&#40;</span>noCreate, <span class="st0">'c'</span>, <span class="st0">&quot;no-create&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
    var dateParam <span class="sy0">=</span> <span class="kw3">new</span> StringParameter<span class="br0">&#40;</span><span class="kw1">true</span>, <span class="st0">&quot;STRING&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    var date <span class="sy0">=</span> OptionFactory.<span class="me1">Create</span><span class="br0">&#40;</span><span class="kw1">false</span>, <span class="st0">&quot;parse STRING and use it instead of current time&quot;</span>, dateParam<span class="br0">&#41;</span><span class="sy0">;</span>
    parser.<span class="me1">AddOption</span><span class="br0">&#40;</span>date, <span class="st0">'d'</span>, <span class="st0">&quot;date&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
    var referenceParam <span class="sy0">=</span> <span class="kw3">new</span> StringParameter<span class="br0">&#40;</span><span class="kw1">true</span>, <span class="st0">&quot;FILE&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="co1">// ExistingFileConstraint ensures that the parameter value is a valid path to an existing file</span>
    referenceParam.<span class="me1">AddConstraint</span><span class="br0">&#40;</span><span class="kw3">new</span> ExistingFileConstraint<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    var reference <span class="sy0">=</span> OptionFactory.<span class="me1">Create</span><span class="br0">&#40;</span><span class="kw1">false</span>, <span class="st0">&quot;use this file's times instead of current time&quot;</span>, referenceParam<span class="br0">&#41;</span><span class="sy0">;</span>
    parser.<span class="me1">AddOption</span><span class="br0">&#40;</span>reference, <span class="st0">'r'</span>, <span class="st0">&quot;reference&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
    var stampParam <span class="sy0">=</span> <span class="kw3">new</span> StringParameter<span class="br0">&#40;</span><span class="kw1">true</span>, <span class="st0">&quot;STAMP&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="co1">// Apply the custom constraint defined earlier to the parameter</span>
    stampParam.<span class="me1">AddConstraint</span><span class="br0">&#40;</span><span class="kw3">new</span> TimeConstraint<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    var stamp <span class="sy0">=</span> OptionFactory.<span class="me1">Create</span><span class="br0">&#40;</span><span class="kw1">false</span>, <span class="st0">&quot;use [[CC]YY]MMDDhhmm[.ss] instead of current time&quot;</span>, stampParam<span class="br0">&#41;</span><span class="sy0">;</span>
    parser.<span class="me1">AddOption</span><span class="br0">&#40;</span>stamp, <span class="st0">'t'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
    <span class="co1">// Use EnumParameter to restrict the range of parameter values and convert the value to Time</span>
    var timeParam <span class="sy0">=</span> <span class="kw3">new</span> EnumParameter<span class="sy0">&lt;</span>Time<span class="sy0">&gt;</span><span class="br0">&#40;</span><span class="kw1">true</span>, <span class="st0">&quot;WORD&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    var time <span class="sy0">=</span> OptionFactory.<span class="me1">Create</span><span class="br0">&#40;</span><span class="kw1">false</span>, <span class="st0">&quot;change the specified time: WORD is access, atime, or use&quot;</span>, timeParam<span class="br0">&#41;</span><span class="sy0">;</span>
    parser.<span class="me1">AddOption</span><span class="br0">&#40;</span>time, <span class="st0">&quot;time&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
    var version <span class="sy0">=</span> OptionFactory.<span class="me1">Create</span><span class="br0">&#40;</span><span class="kw1">false</span>, <span class="st0">&quot;output version information and exit&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    parser.<span class="me1">AddOption</span><span class="br0">&#40;</span>version, <span class="st0">&quot;version&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
    <span class="co1">// Description displayed in the usage text</span>
    parser.<span class="me1">UsageDescription</span> <span class="sy0">=</span> <span class="st0">&quot; touch [OPTION]... [FILE]...&quot;</span><span class="sy0">;</span>
&nbsp;
    <span class="kw1">try</span> <span class="br0">&#123;</span>
      <span class="co1">// The actual argument parsing</span>
      parser.<span class="me1">Parse</span><span class="br0">&#40;</span>args<span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="kw1">catch</span> <span class="br0">&#40;</span>EasyOptException e<span class="br0">&#41;</span> <span class="br0">&#123;</span>
      <span class="co1">// Some options were invalid, print usage text and exit</span>
      Console.<span class="me1">Write</span><span class="br0">&#40;</span> parser.<span class="me1">GetUsage</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#41;</span><span class="sy0">;</span>
      return<span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
    <span class="co1">// Retrieve some option values</span>
    <span class="kw4">bool</span> accessTimeValue <span class="sy0">=</span> accessTime.<span class="me1">Value</span><span class="sy0">;</span>
    <span class="kw4">String</span> dateValue <span class="sy0">=</span> date.<span class="me1">Value</span><span class="sy0">;</span>
    <span class="kw4">String</span> referenceValue <span class="sy0">=</span> reference.<span class="me1">Value</span><span class="sy0">;</span>
    <span class="kw4">String</span> stampValue <span class="sy0">=</span> stamp.<span class="me1">Value</span><span class="sy0">;</span>
    Time timeValue <span class="sy0">=</span> time.<span class="me1">Value</span><span class="sy0">;</span>
&nbsp;
    <span class="co1">// Get list of non-option arguments</span>
    <span class="kw4">String</span><span class="br0">&#91;</span><span class="br0">&#93;</span> arguments <span class="sy0">=</span> parser.<span class="me1">GetArguments</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
  <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre>

</div>

</body>
</html>
